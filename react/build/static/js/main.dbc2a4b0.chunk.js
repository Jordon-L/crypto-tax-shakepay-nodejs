(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(11),i=a.n(l),s=(a(120),a(91)),r=a(92),o=a(99),j=a(98),d=a(13),b=a(63),u=(a(121),a(93)),O=a.n(u),h=a(197),x=a(206),m=a(207),p=a(210),C=a(209),f=a(205),T=a(225),g=a(208),S=a(211),v=a(102),y=a(222),N=a(204),k=a(219),F=a(215),w=a(216),B=a(218),E=a(217),G=a(227),D=a(202),H=a(203),P=a(201),A=a(94),I=a(228),W=a(220),L=a(221),M=a(96),Y=a.n(M),J=a(97),z=a(16),R=a(223),U=a(5),V=Object(h.a)((function(e){var t;return{root:{width:"100%"},button:{color:"#F7F7F7",background:"black",textTransform:"capitalize","&:hover":{backgroundColor:"black"}},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},grid:Object(b.a)({},e.breakpoints.down("sm"),{width:"100%"}),inputCard:(t={display:"flex",flexDirection:"column",alignItems:"center"},Object(b.a)(t,e.breakpoints.up("md"),{width:"960px"}),Object(b.a)(t,e.breakpoints.down("sm"),{width:"100%"}),t),inputCardAction:{flexGrow:1,display:"flex",flexDirection:"column"},table:{width:"1500px"},disabledAccordion:{backgroundColor:"#fff !important"},disabledAccordionSummary:{opacity:"1 !important"},moreDetail:{marginLeft:"0.5em"}}}));function q(e){var t=e.openTable,a=e.onCloseTable,c=e.data,l=e.columns,i=V(),s=Object(n.useState)(0),r=Object(d.a)(s,2),o=r[0],j=r[1],b=Object(n.useState)(10),u=Object(d.a)(b,2),O=u[0],h=u[1],v=O-Math.min(O,c.length-o*O);return Object(U.jsxs)(G.a,{onClose:a,maxWidth:"1500px",open:t,children:[Object(U.jsx)(P.a,{id:"simple-dialog-title",children:"Transaction Table"}),Object(U.jsxs)(D.a,{children:[Object(U.jsx)(H.a,{children:"Shakingsats is not displayed, but is calculated as Income"}),Object(U.jsx)(A.CSVLink,{data:c,filename:"transactionTable.csv",children:Object(U.jsx)(N.a,{className:i.button,variant:"contained",component:"label",children:"Download"})}),Object(U.jsx)(f.a,{className:i.table,children:Object(U.jsxs)(x.a,{stickyHeader:!0,"aria-label":"transaction table",children:[Object(U.jsx)(m.a,{children:Object(U.jsx)(g.a,{children:l.map((function(e){return Object(U.jsx)(C.a,{children:e.field},e.title)}))})}),Object(U.jsxs)(p.a,{children:[(O>0?c.slice(o*O,o*O+O):c).map((function(e){return Object(U.jsx)(g.a,{children:l.map((function(t){var a=e[t.field];return Object(U.jsx)(C.a,{children:a},t.title)}))})})),v>0&&Object(U.jsx)(g.a,{style:{height:53*v},children:Object(U.jsx)(C.a,{colSpan:6})})]}),Object(U.jsx)(S.a,{children:Object(U.jsx)(g.a,{children:Object(U.jsx)(T.a,{rowsPerPageOptions:[10,25,{label:"All",value:-1}],count:c.length,rowsPerPage:O,page:o,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){h(+e.target.value),j(0)}})})})]})})]})]})}function K(e){var t=e.openDetail,a=e.onCloseDetail,n=e.taxInfo;return Object(U.jsxs)(G.a,{onClose:a,maxWidth:"1500px",open:t,children:[Object(U.jsx)(P.a,{children:"Breakdown of Capital Gain"}),Object(U.jsx)(D.a,{children:Object(U.jsx)(H.a,{children:n.capitalGain})})]})}function Q(){var e,t=Object(n.useState)(null),a=Object(d.a)(t,2),l=a[0],i=a[1],s=Object(n.useState)(null),r=Object(d.a)(s,2),o=r[0],j=r[1],b=Object(n.useState)(null),u=Object(d.a)(b,2),h=u[0],x=u[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),C=p[0],f=p[1],T=Object(n.useState)([]),g=Object(d.a)(T,2),S=g[0],G=g[1],D=Object(n.useState)([]),H=Object(d.a)(D,2),P=(H[0],H[1],Object(n.useState)([])),A=Object(d.a)(P,2),M=(A[0],A[1],Object(n.useState)({})),Q=Object(d.a)(M,2),X=Q[0],Z=Q[1],$=Object(n.useState)(!1),_=Object(d.a)($,2),ee=(_[0],_[1],Object(n.useState)(!1)),te=Object(d.a)(ee,2),ae=(te[0],te[1],Object(n.useState)(!1)),ne=Object(d.a)(ae,2),ce=(ne[0],ne[1],Object(n.useState)(!1)),le=Object(d.a)(ce,2),ie=le[0],se=le[1],re=Object(n.useState)(!1),oe=Object(d.a)(re,2),je=oe[0],de=oe[1],be=Object(n.useState)(!1),ue=Object(d.a)(be,2),Oe=ue[0],he=ue[1],xe=c.a.useState(!1),me=Object(d.a)(xe,2),pe=me[0],Ce=me[1],fe=c.a.useState(!1),Te=Object(d.a)(fe,2),ge=Te[0],Se=Te[1],ve=c.a.useState(!1),ye=Object(d.a)(ve,2),Ne=ye[0],ke=ye[1],Fe=Object(n.useState)(new Date),we=Object(d.a)(Fe,2),Be=we[0],Ee=we[1],Ge=new Date,De=Ge.getFullYear(),He=Ge.getMonth(),Pe=Ge.getDate(),Ae=new Date(De-5,He,Pe),Ie=Ge,We=V();return e=0===C.length&&0===S.length?Object(U.jsx)("div",{class:"content",children:Object(U.jsx)(F.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:Object(U.jsx)(F.a,{item:!0,xs:12,className:We.grid,children:Object(U.jsx)(w.a,{children:Object(U.jsxs)(E.a,{className:We.inputCard,children:[Object(U.jsxs)(B.a,{className:We.inputCardAction,children:["Year:",Object(U.jsx)(z.a,{utils:J.a,children:Object(U.jsx)(R.a,{value:Be,onChange:Ee,views:["year"],minDate:Ae,maxDate:Ie})})]}),Object(U.jsx)(v.a,{children:"Shakepay csv file:"}),Object(U.jsx)(B.a,{className:We.inputCardAction,children:Object(U.jsxs)(N.a,{className:We.button,variant:"contained",component:"label",children:["Choose File",Object(U.jsx)("input",{id:"fileInput",type:"file",onChange:function(e){var t;i(e.target.files[0]),t=e.target.files[0].name,document.getElementById("selectedFile").innerHTML="Selected File: "+t},hidden:!0})]})}),Object(U.jsx)(v.a,{children:Object(U.jsx)("div",{id:"selectedFile",children:"Selected File: "})}),Object(U.jsx)(B.a,{className:We.inputCardAction,children:Object(U.jsx)(N.a,{className:We.button,variant:"contained",color:"primary",onClick:function(){return function(e,t,a,n,c,l,i,s,r,o,j,d){if(null==e||null==o)r(!0),i(!1);else if(null!=t&&null==a||null!=t&&""==a)j(!0),i(!1);else{r(!1),j(!1),d(!1),i(!0);var b=new FormData;b.append("file",e),b.append("wallet",t),b.append("shakepayWallet",a),console.log(o.getFullYear()),b.append("year",o.getFullYear()),O.a.post("/upload",b,{}).then((function(e){if("true"==e.data.error)d(!0),i(!1);else{!function(e,t,a,n){a(t),n(e)}(e.data.table,e.data.columns,n,c);var t=JSON.parse(e.data.info);l({incomeGain:t.incomeGain,capitalGain:t.capitalGain,totalNumberETH:t.totalNumberETH,totalSalePriceETH:t.totalSalePriceETH,totalCostETH:t.totalCostETH,totalFeesETH:t.totalFeesETH,totalGainsETH:t.totalGainsETH,totalNumberBTC:t.totalNumberBTC,totalSalePriceBTC:t.totalSalePriceBTC,totalCostBTC:t.totalCostBTC,totalFeesBTC:t.totalFeesBTC,totalGainsBTC:t.totalGainsBTC})}}))}}(l,h,o,f,G,Z,se,0,de,Be,ke,he)},children:"Upload "})}),Object(U.jsx)(v.a,{children:Object(U.jsx)("h4",{children:" Optional "})}),"Non-shakepay ethereum data will not be 100% accurate due to limited historical price data available on Coingecko.",Object(U.jsxs)(B.a,{className:We.inputCardAction,children:["Shakepay Ethereum Wallet: ",Object(U.jsx)("input",{type:"text",name:"shakepayWallet",onChange:function(e){return j(e.target.value)}})]}),Object(U.jsxs)(B.a,{className:We.inputCardAction,children:["non-Shakepay Ethereum Wallets (comma separated): ",Object(U.jsx)("input",{type:"text",name:"wallet",onChange:function(e){e.target.value;x(e.target.value)}})]}),Object(U.jsxs)(v.a,{children:[ie?Object(U.jsx)(k.a,{}):"",je?"No csv selected or year is empty":"",Oe?"Format incorrect in csv":"",Ne?"Fill in Shakepay Wallet address":""]})]})})})})}):Object(U.jsxs)("div",{class:"content",children:[Object(U.jsx)(F.a,{container:!0,justify:"center",direction:"column",alignItems:"center",children:Object(U.jsx)(F.a,{item:!0,xs:12,className:We.grid,children:Object(U.jsx)(w.a,{className:We.inputCard,children:Object(U.jsxs)(E.a,{children:[Object(U.jsxs)("div",{children:[Object(U.jsx)(I.a,{disabled:!0,className:We.disabledAccordion,children:Object(U.jsx)(W.a,{"aria-controls":"panel1a-content",id:"panel1a-header",className:We.disabledAccordionSummary,children:Object(U.jsxs)(v.a,{children:["Income: ",X.incomeGain]})})}),Object(U.jsxs)(I.a,{children:[Object(U.jsx)(W.a,{expandIcon:Object(U.jsx)(Y.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(U.jsxs)(v.a,{children:["Capital gain: ",X.capitalGain]})}),Object(U.jsxs)(L.a,{children:[Object(U.jsxs)(v.a,{className:We.moreDetail,children:["BTC",Object(U.jsxs)(v.a,{children:["Total BTC: ",X.totalNumberBTC]}),Object(U.jsxs)(v.a,{children:["Total Sale: ",X.totalSalePriceBTC]}),Object(U.jsxs)(v.a,{children:["Total Cost: ",X.totalCostBTC]}),Object(U.jsxs)(v.a,{children:["Total Fees: ",X.totalFeesBTC]}),Object(U.jsxs)(v.a,{children:["Total Gain: ",X.totalGainsBTC]})]}),Object(U.jsxs)(v.a,{className:We.moreDetail,children:["ETH",Object(U.jsxs)(v.a,{children:["Total ETH: ",X.totalNumberETH]}),Object(U.jsxs)(v.a,{children:["Total Sale: ",X.totalSalePriceETH]}),Object(U.jsxs)(v.a,{children:["Total Cost: ",X.totalCostETH]}),Object(U.jsxs)(v.a,{children:["Total Fees: ",X.totalFeesETH]}),Object(U.jsxs)(v.a,{children:["Total Gain: ",X.totalGainsETH]})]})]})]}),Object(U.jsx)(I.a,{disabled:!0,className:We.disabledAccordion,children:Object(U.jsx)(W.a,{"aria-controls":"panel3a-content",id:"panel3a-header",className:We.disabledAccordionSummary,children:Object(U.jsxs)(v.a,{children:["Taxable Income: ",+X.incomeGain+.5*+X.capitalGain]})})})]}),Object(U.jsx)(B.a,{className:We.inputCardAction,children:Object(U.jsx)(N.a,{className:We.button,variant:"contained",color:"primary",onClick:function(){Ce(!0)},children:"Display transaction table "})})]})})})}),Object(U.jsx)(q,{openTable:pe,onCloseTable:function(){Ce(!1)},data:S,columns:C}),Object(U.jsx)(K,{openDetail:ge,onCloseDetail:function(){Se(!1)},taxInfo:X})]}),Object(U.jsx)(y.a,{disableGutters:!0,maxWidth:"false",children:e})}var X=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(U.jsxs)(F.a,{Container:!0,disableGutters:!0,maxWidth:"false",direction:"column",alignItems:"center",id:"website",children:[Object(U.jsxs)(F.a,{item:!0,xs:12,id:"title",children:[Object(U.jsx)("h1",{children:" Crypto gains "}),Object(U.jsx)("h4",{children:" for Shakepay and Ethereum mining"})]}),Object(U.jsx)(F.a,{item:!0,xs:12,id:"results",children:Object(U.jsx)(Q,{})})]})}}]),a}(n.Component),Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),l(e),i(e)}))};i.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(X,{})}),document.getElementById("root")),Z()}},[[151,1,2]]]);
//# sourceMappingURL=main.dbc2a4b0.chunk.js.map